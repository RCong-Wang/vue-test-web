{"version":3,"file":"js/986.5e959f44.js","mappings":"iMAIYA,EAAAA,EAAAA,GAAmC,SAA5BC,IAAI,YAAW,SAAK,G,GAI3BD,EAAAA,EAAAA,GAAkC,SAA3BC,IAAI,YAAW,QAAI,G,GAG9BD,EAAAA,EAAAA,GAEM,aADFA,EAAAA,EAAAA,GAAiC,UAAzBE,KAAK,UAAS,QAAE,G,0CAXhCC,EAAAA,EAAAA,IAcM,aAbJH,EAAAA,EAAAA,GAYO,QAZAI,SAAMC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,OAAAD,EAAAC,SAAAF,IAAOG,OAAO,Q,EAC3BT,EAAAA,EAAAA,GAGM,YAFFU,GAAmC,SACnCV,EAAAA,EAAAA,GAAoD,SAA7CE,KAAK,OAAOS,GAAG,W,qCAAoBC,EAAAC,SAAQC,I,iBAARF,EAAAC,eAE9Cb,EAAAA,EAAAA,GAGM,YAFFe,GAAkC,SAClCf,EAAAA,EAAAA,GAAwD,SAAjDE,KAAK,WAAWS,GAAG,W,qCAAoBC,EAAAI,SAAQF,I,iBAARF,EAAAI,cAElDC,GAEM,K,YAQV,GACIC,OAAAA,GACIC,KAAKC,OAAQC,EAAAA,EAAAA,IAAO,QACxB,EACAC,IAAAA,GACI,MAAM,CACFT,SAAU,GACVG,SAAU,GAElB,EACAO,QAAQ,CACJf,KAAAA,CAAMgB,GACFA,EAAMC,iBAEN,MAAMC,EAAW,CACbb,SAAUM,KAAKN,SACfG,SAAUG,KAAKH,UAEnBG,KAAKC,MAAMO,IAAK,GAAER,KAAKS,4BACtBC,MAAKC,IACF,MAAMC,EAAOD,EAASR,KAAKU,WAE3Bb,KAAKC,MAAMa,KAAM,GAAEd,KAAKS,yBAAyBF,EAAS,CACtDQ,iBAAiB,EACjBC,QAAQ,CACJ,cAAeJ,EACf,eAAgB,sBAGvBF,MAAKC,IACFM,QAAQC,IAAIC,SAASC,OAAOC,SAAS,cACrCJ,QAAQC,IAAI,QAAQP,EAASR,MAC7BH,KAAKsB,QAAQC,KAAK,IAAI,IAEzBC,OAAMC,IACHR,QAAQQ,MAAM,QAAQA,EAAM,GAC9B,GAGV,I,QCvDZ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://my-vue-app/./src/views/Login.vue","webpack://my-vue-app/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n    <div>\r\n      <form @submit=\"login\" method=\"POST\">\r\n        <div>\r\n            <label for=\"username\">用戶名: </label>\r\n            <input type=\"text\" id=\"username\" v-model=\"username\">\r\n        </div>\r\n        <div>\r\n            <label for=\"password\">密碼: </label>\r\n            <input type=\"password\" id=\"password\" v-model=\"password\">\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">登陸</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n    import { inject } from 'vue';\r\n\r\n    export default{\r\n        created() {\r\n            this.axios = inject('axios');\r\n        },\r\n        data(){\r\n            return{\r\n                username: '',\r\n                password: '',\r\n            };\r\n        },\r\n        methods:{\r\n            login(event){\r\n                event.preventDefault();\r\n                \r\n                const userdata = {\r\n                    username: this.username,\r\n                    password: this.password\r\n                };\r\n                this.axios.get(`${this.local_http}/user/getcsrf/`)\r\n                .then(response=>{\r\n                    const csrf = response.data.csrf_token;\r\n                    \r\n                    this.axios.post(`${this.local_http}/user/login/`,userdata,{\r\n                        withCredentials: true,\r\n                        headers:{\r\n                            'X-CSRFToken': csrf,\r\n                            'Content-Type': 'application/json',\r\n                        }\r\n                    })\r\n                    .then(response=>{\r\n                        console.log(document.cookie.includes('sessionid'));\r\n                        console.log('登陸成功:',response.data);\r\n                        this.$router.push('/');\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('登陸失敗:',error);\r\n                    });\r\n                })\r\n                \r\n            },\r\n\r\n        }\r\n    };\r\n</script>","import { render } from \"./Login.vue?vue&type=template&id=6a769ee6\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","for","type","_createElementBlock","onSubmit","_cache","args","$options","login","method","_hoisted_1","id","$data","username","$event","_hoisted_2","password","_hoisted_3","created","this","axios","inject","data","methods","event","preventDefault","userdata","get","local_http","then","response","csrf","csrf_token","post","withCredentials","headers","console","log","document","cookie","includes","$router","push","catch","error","__exports__","render"],"sourceRoot":""}